<!-- Start General Info Section -->
<section class="dashboard pt-1 pb-2 pl-0 animated fadeIn">
    <div class="container-fluid">
        <form class="employee-GeneralInfoForm col-xl-12 col-12 p-0" [formGroup]="employeeRegistrationForm"
            (ngSubmit)="onSubmit(registerVisitPurpose)" autocomplete="off">
            <div class="row pt-2">
                <div class="col-xl-12 col-12">
                    <div class="pb-1 mb-2 mt-2 bg-white shadow-sm rounded w-100">
                        <div class="row">
                            <div class="col-xl-12 col-12">
                                <div
                                    class="pt-3 px-3 pb-1 mb-2 bg-primary-blue text-white text-start rounded-top px-2 py-1 flex-row flex-wrap">
                                    <p class="fw600 fs16 mr-4">Name of the Company</p>
                                </div>

                                <div class="row px-3">

                                    <div class="col-sm-7 col-12">
                                        <mat-form-field class="w-100 pb-1">
                                            <mat-label class="fw600">Company <span class="text-danger">*</span>
                                            </mat-label>
                                            <mat-select [typeaheadDebounceInterval]="500" formControlName="clientId">
                                                <mat-option class="fs12 fw600">Select Company
                                                </mat-option>
                                                <mat-option *ngFor="let client of allClientList" [value]="client.Id">
                                                    {{client.CompanyName}}
                                                </mat-option>
                                            </mat-select>
                                            <mat-error *ngIf="errorState(formControls['clientId'], 'client').message">
                                                {{ errorState(formControls['clientId'], 'client').message }}
                                            </mat-error>
                                        </mat-form-field>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="row pt-3">
                <div class="col-xl-12 col-12">
                    <div class="pb-1 mb-2 mt-2 bg-white shadow-sm rounded w-100">
                        <div class="row">
                            <div class="col-xl-12 col-12">
                                <div
                                    class="pt-3 px-3 pb-1 mb-2 bg-primary-blue text-white text-center rounded-top px-2 py-1 flex-row flex-wrap">
                                    <p class="fw600 fs16 mr-4">General Information</p>
                                </div>

                                <div class="row px-3">
                                    <div class="col-sm-3 col-12">
                                        <mat-form-field class="w-100 pb-1">
                                            <mat-label class="fw600">Name of employee<span
                                                    class="text-red ml-1">*</span>
                                            </mat-label>
                                            <input autocomplete="off" formControlName="EmpName" matInput
                                                placeholder="Enter Name of employee" type="text">
                                            <mat-error *ngIf="errorState(formControls['EmpName'], 'name').message">
                                                {{ errorState(formControls['EmpName'], 'name').message }}
                                            </mat-error>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-2 col-12">
                                        <mat-form-field class="w-100 pb-1">
                                            <mat-label class="fw600">Contact No. <span class="text-red ml-1">*</span>
                                            </mat-label>
                                            <input matInput formControlName="contactNo"
                                                placeholder="Enter Phone No." type="text" autocomplete="off">
                                            <mat-error
                                                *ngIf="errorState(formControls['contactNo'], 'ContactMobile').message">
                                                {{ errorState(formControls['contactNo'], 'ContactMobile').message }}
                                            </mat-error>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-2 col-12">
                                        <mat-form-field class="w-100 pb-1">
                                            <mat-label class="fw600">IC/MyKad No. <span class="text-red ml-1">*</span>
                                            </mat-label>
                                            <input autocomplete="off" formControlName="ICNum" matInput
                                                placeholder="Enter IC/MyKad No." type="text">
                                            <mat-error *ngIf="errorState(formControls['ICNum'], 'MyKad').message">
                                                {{ errorState(formControls['ICNum'], 'MyKad').message }}
                                            </mat-error>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3 col-12">
                                        <mat-form-field class="w-100 pb-2">
                                            <mat-label class="fw600">D.O.B (DD/MM/YYYY)<span
                                                    class="text-red ml-1">*</span></mat-label>
                                            <input autocomplete="off" formControlName="DOB" matInput [max]="maxDate"
                                                [matDatepicker]="picker" placeholder="Enter DOB">
                                            <mat-datepicker-toggle matSuffix [for]="picker" class="fs24">
                                            </mat-datepicker-toggle>
                                            <mat-datepicker #picker disabled="false"></mat-datepicker>
                                            <mat-error *ngIf="errorState(formControls['DOB'], 'DOB').message">
                                                {{ errorState(formControls['DOB'], 'DOB').message }}
                                            </mat-error>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-2 col-12">
                                        <mat-form-field class="w-100 pb-1">
                                            <mat-label class="fw600">Age<span class="text-red ml-1">*</span></mat-label>
                                            <input autocomplete="off" formControlName="Age" matInput
                                                placeholder="Enter Age" type="text" readonly>
                                            <mat-error *ngIf="errorState(formControls['Age'], 'Age').message">
                                                {{ errorState(formControls['Age'], 'Age').message }}
                                            </mat-error>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-5 col-12">
                                        <mat-form-field class="w-100 pb-1">
                                            <mat-label class="fw600">Address
                                            </mat-label>
                                            <input autocomplete="off" formControlName="Address" matInput
                                                placeholder="Enter Address" type="text">
                                            <mat-error *ngIf="errorState(formControls['Address'], 'address').message">
                                                {{ errorState(formControls['Address'], 'address').message }}
                                            </mat-error>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-2 col-12">
                                        <mat-form-field class="w-100 pb-1">
                                            <mat-label class="fw600">District</mat-label>
                                            <input matInput formControlName="District" placeholder="Enter District"
                                                type="text" autocomplete="off">
                                            <!-- <mat-error *ngIf="errorState(formControls['District'], 'address').message">
                                {{ errorState(formControls['District'], 'address').message }}
                            </mat-error> -->
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3 col-12">
                                        <mat-form-field class="w-100 pb-1">
                                            <mat-label class="fw600">State <span class="text-red ml-1">*</span>
                                            </mat-label>
                                            <mat-select [typeaheadDebounceInterval]="500" formControlName="State">
                                                <mat-option class="fs12 fw600">Select State
                                                </mat-option>
                                                <mat-option *ngFor="let state of allStateList" [value]="state.Id">
                                                    {{state.State}}
                                                </mat-option>
                                            </mat-select>
                                            <mat-error *ngIf="errorState(formControls['State'], 'state').message">
                                                {{ errorState(formControls['State'], 'state').message }}
                                            </mat-error>
                                        </mat-form-field>
                                    </div>

                                    <div class="col-sm-2 col-12">
                                        <mat-form-field class="w-100 pb-1">
                                            <mat-label class="fw600">Postal Code</mat-label>
                                            <input matInput formControlName="Postcode" placeholder="Enter Postal Code"
                                                type="text" autocomplete="off">
                                            <mat-error *ngIf="errorState(formControls['Postcode'], 'pin').message">
                                                {{ errorState(formControls['Postcode'], 'pin').message }}
                                            </mat-error>
                                        </mat-form-field>
                                    </div>


                                    <div class="col-sm-4 col-12">
                                        <mat-form-field class="w-100 pb-1">
                                            <mat-label class="fw600">SOSCO No.</mat-label>
                                            <input autocomplete="off" formControlName="SOCSONum" matInput
                                                placeholder="Enter SOSCO No." type="text">
                                            <!-- <mat-error *ngIf="errorState(formControls['SOCSONum'], 'MyKad').message">
                                {{ errorState(formControls['SOCSONum'], 'MyKad').message }}
                              </mat-error> -->
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-4 col-12">
                                        <mat-form-field class="w-100 pb-1">
                                            <mat-label class="fw600">Worksman's Compensation No.</mat-label>
                                            <input autocomplete="off" formControlName="WorkerCompNo" matInput
                                                placeholder="Enter Worksman's Compensation No." type="text">
                                            <!-- <mat-error *ngIf="errorState(formControls['WorkerCompNo'], 'MyKad').message">
                                {{ errorState(formControls['WorkerCompNo'], 'MyKad').message }}
                              </mat-error> -->
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-4 col-12">
                                        <mat-form-field class="w-100 pb-1">
                                            <mat-label class="fw600">Work Permit No.</mat-label>
                                            <input autocomplete="off" formControlName="WorkPermitNo" matInput
                                                placeholder="Enter Work Permit No." type="text">
                                            <!-- <mat-error *ngIf="errorState(formControls['WorkPermitNo'], 'MyKad').message">
                                {{ errorState(formControls['WorkPermitNo'], 'MyKad').message }}
                              </mat-error> -->
                                        </mat-form-field>
                                    </div>

                                    <div class="col-sm-4 col-12">
                                        <mat-form-field class="w-100 pb-1">
                                            <mat-label class="fw600">Marital Status</mat-label>
                                            <mat-select [typeaheadDebounceInterval]="500"
                                                placeholder="Select Marital Status" formControlName="MartialStatus">
                                                <mat-option class="fs12 fw600">Select Marital Status
                                                </mat-option>
                                                <mat-option *ngFor="let status of maritalStatusList.maritalStatus"
                                                    [value]="status.code">
                                                    {{status.name}}
                                                </mat-option>
                                            </mat-select>
                                            <!-- <mat-error
                                                *ngIf="errorState(formControls['MartialStatus'], 'MyKad').message">
                                                {{ errorState(formControls['MartialStatus'], 'MyKad').message }}
                                            </mat-error> -->
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-4 col-12">
                                        <mat-form-field class="w-100 pb-2">
                                            <mat-label class="fw600">Sex<span class="text-red ml-1">*</span></mat-label>
                                            <mat-select [typeaheadDebounceInterval]="500" placeholder="Select Sex"
                                                formControlName="Gender">
                                                <mat-option class="fs12 fw600">Select Gender</mat-option>
                                                <mat-option *ngFor="let gender of sexData.gender" [value]="gender.code">
                                                    {{gender.name}}
                                                </mat-option>
                                            </mat-select>
                                            <mat-error *ngIf="errorState(formControls['Gender'], 'Gender').message">
                                                {{ errorState(formControls['Gender'], 'Gender').message }}
                                            </mat-error>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-4 col-12">
                                        <mat-form-field class="w-100 pb-1">
                                            <mat-label class="fw600">No. of Child</mat-label>
                                            <input autocomplete="off" formControlName="NoOfChild" matInput
                                                placeholder="Enter No. of Child" type="text">
                                            <mat-error *ngIf="errorState(formControls['NoOfChild'], 'child').message">
                                                {{ errorState(formControls['NoOfChild'], 'child').message }}
                                            </mat-error>
                                        </mat-form-field>
                                    </div>

                                    <div class="col-sm-4 col-12">
                                        <mat-form-field class="w-100 pb-1">
                                            <mat-label class="fw600">No. of years married</mat-label>
                                            <input autocomplete="off" formControlName="NoYrsMarried" matInput
                                                placeholder="Enter No. of years married" type="text">
                                            <mat-error
                                                *ngIf="errorState(formControls['NoYrsMarried'], 'yearsMarried').message">
                                                {{ errorState(formControls['NoYrsMarried'], 'yearsMarried').message }}
                                            </mat-error>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-4 col-12">
                                        <mat-form-field class="w-100 pb-2">
                                            <mat-label class="fw600">Ethnic</mat-label>
                                            <mat-select [typeaheadDebounceInterval]="500" placeholder="Select Ethnic"
                                                formControlName="Ethnic">
                                                <mat-option class="fs12 fw600">Select Ethnic</mat-option>
                                                <mat-option *ngFor="let list of ethnicList" [value]="list.Id">
                                                    {{list.Name}}
                                                </mat-option>
                                            </mat-select>
                                            <!-- <mat-error *ngIf="errorState(formControls['Ethnic'], 'Gender').message">
                                                {{ errorState(formControls['Ethnic'], 'Gender').message }}
                                            </mat-error> -->
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-4 col-12">
                                        <mat-form-field class="w-100 pb-1">
                                            <mat-label class="fw600">Nationality<span class="text-red ml-1">*</span>
                                            </mat-label>
                                            <mat-select [typeaheadDebounceInterval]="500"
                                                placeholder="Select Nationality" formControlName="Nationality">
                                                <mat-option class="fs12 fw600">Select Nationality</mat-option>
                                                <mat-option *ngFor="let country of countryList" [value]="country.ShortDesc">
                                                    {{country.LongDesc}}
                                                </mat-option>
                                            </mat-select>
                                            <mat-error
                                                *ngIf="errorState(formControls['Nationality'], 'Nationality').message">
                                                {{ errorState(formControls['Nationality'], 'Nationality').message }}
                                            </mat-error>
                                        </mat-form-field>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="row pt-2">
                <div class="col-xl-12 col-12">
                    <div class="pb-1 mb-2 mt-2 bg-white shadow-sm rounded w-100">
                        <div class="row">
                            <div class="col-xl-12 col-12">
                                <div
                                    class="pt-3 px-3 pb-1 mb-2 bg-primary-blue text-white text-center rounded-top px-2 py-1 flex-row flex-wrap">
                                    <p class="fw600 fs16 mr-4">Emergency Contact</p>
                                </div>

                                <div class="row px-3">
                                    <div class="col-sm-4 col-12">
                                        <mat-form-field class="w-100 pb-1">
                                            <mat-label class="fw600">Name<span class="text-red ml-1">*</span>
                                            </mat-label>
                                            <input formControlName="EmergencyContactName" autocomplete="off" matInput
                                                placeholder="Enter Name" type="text">
                                            <mat-error
                                                *ngIf="errorState(formControls['EmergencyContactName'], 'name').message">
                                                {{ errorState(formControls['EmergencyContactName'], 'name').message }}
                                            </mat-error>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-4 col-12">
                                        <mat-form-field class="w-100 pb-1">
                                            <mat-label class="fw600">Relationship <span class="text-danger">*</span>
                                            </mat-label>
                                            <mat-select [typeaheadDebounceInterval]="500"
                                                formControlName="EmergencyContactRelationship">
                                                <mat-option class="fs12 fw600">Select Relationship Type
                                                </mat-option>
                                                <mat-option *ngFor="let list of relationshipData.relationship" [value]="list.code">
                                                {{list.name}}
                                                </mat-option>
                                            </mat-select>
                                            <mat-error
                                                *ngIf="errorState(formControls['EmergencyContactRelationship'], 'Relationship').message">
                                                {{ errorState(formControls['EmergencyContactRelationship'], 'Relationship').message }}
                                            </mat-error>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-4 col-12">
                                        <mat-form-field class="w-100 pb-1">
                                            <mat-label class="fw600">Tel. No.</mat-label>
                                            <input matInput formControlName="EmergencyContactTel"
                                                placeholder="Enter Tel. No." type="text" autocomplete="off">
                                            <mat-error
                                                *ngIf="errorState(formControls['EmergencyContactTel'], 'TelNo').message">
                                                {{ errorState(formControls['EmergencyContactTel'], 'TelNo').message }}
                                            </mat-error>
                                        </mat-form-field>
                                    </div>

                                    <div class="col-sm-6 col-12">
                                        <mat-form-field class="w-100 pb-1">
                                            <mat-label class="fw600">Address</mat-label>
                                            <input autocomplete="off" matInput formControlName="EmergencyContactAddress"
                                                placeholder="Enter Address" type="text">
                                            <mat-error
                                                *ngIf="errorState(formControls['EmergencyContactAddress'], 'address').message">
                                                {{ errorState(formControls['EmergencyContactAddress'], 'address').message }}
                                            </mat-error>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3 col-12">
                                        <mat-form-field class="w-100 pb-1">
                                            <mat-label class="fw600">Postal Code</mat-label>
                                            <input matInput formControlName="EmergencyContactPostcode"
                                                placeholder="Enter Postal Code" type="text" autocomplete="off">
                                            <mat-error
                                                *ngIf="errorState(formControls['EmergencyContactPostcode'], 'pin').message">
                                                {{ errorState(formControls['EmergencyContactPostcode'], 'pin').message }}
                                            </mat-error>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-3 col-12">
                                        <mat-form-field class="w-100 pb-1">
                                            <mat-label class="fw600">Name of Employeer</mat-label>
                                            <input autocomplete="off" formControlName="EmployeerName" matInput
                                                placeholder="Enter Name of Employeer" type="text">
                                            <!-- <mat-error
                                                *ngIf="errorState(formControls['EmployeerName'], 'name').message">
                                                {{ errorState(formControls['EmployeerName'], 'name').message }}
                                            </mat-error> -->
                                        </mat-form-field>
                                    </div>

                                    <div class="col-sm-4 col-12">
                                        <mat-form-field class="w-100 pb-1">
                                            <mat-label class="fw600">Contact No.</mat-label>
                                            <input autocomplete="off" formControlName="EmergencyContactPhone" matInput
                                                placeholder="Enter Phone No." type="text">
                                            <mat-error
                                                *ngIf="errorState(formControls['EmergencyContactPhone'], 'ContactMobile').message">
                                                {{ errorState(formControls['EmergencyContactPhone'], 'ContactMobile').message }}
                                            </mat-error>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-4 col-12">
                                        <mat-form-field class="w-100 pb-1">
                                            <mat-label class="fw600">Fax No.</mat-label>
                                            <input autocomplete="off" formControlName="EmergencyContactFax" matInput
                                                placeholder="Enter Fax No." type="text">
                                            <mat-error
                                                *ngIf="errorState(formControls['EmergencyContactFax'], 'fax').message">
                                                {{ errorState(formControls['EmergencyContactFax'], 'fax').message }}
                                            </mat-error>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-4 col-12">
                                        <mat-form-field class="w-100 pb-1">
                                            <mat-label class="fw600">Email Id</mat-label>
                                            <input autocomplete="off" formControlName="EmergencyContactEmail" matInput
                                                placeholder="Enter Email Id" type="text">
                                            <mat-error
                                                *ngIf="errorState(formControls['EmergencyContactEmail'], 'email').message">
                                                {{ errorState(formControls['EmergencyContactEmail'], 'email').message }}
                                            </mat-error>
                                        </mat-form-field>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-xl-12 col-12 text-center mt-3">
                <button type="submit" class="btn btn-success min-width btn-sm fs14 fw500 btn-rounded mr-2">{{formControls['Id'] && formControls['Id'].value > 0 ? 'Update' : 'Save'}}</button>
                <!-- <button type="button"
                    class="btn btn-primary btn-sm min-width fs14 fw500 btn-rounded mr-2">CheckIn</button> -->
                <button type="button" class="btn btn-danger btn-sm min-width fs14 fw500 btn-rounded" [routerLink]="['/employee/registration']">Close</button>
            </div>
        </form>
    </div>
</section>
<!-- End General Info Section -->
<ohs-reg-visitpurpose #registerVisitPurpose></ohs-reg-visitpurpose>
